@import 'system-font'
@import 'monospace-font'
@import 'font-sf-ui'
@import 'font-sf-display'
@import 'settings'
@import 'syntax'
@import 'grid'
@import 'hamburgers'
@import 'showcase'

// global

*,
*:before,
*:after
  box-sizing border-box

*
  margin 0
  padding 0

html,
body
  background-color color-main

html
  font-size 14px

body
  -webkit-font-smoothing antialiased
  font 1.1rem/1.5 font-body
  color color-text
  margin 0
  padding 0

a
  color color-link
  transition .15s all ease-in-out

a:visited
  color color-link-visited

a:active
  color color-link-active

a:hover
  color color-link-hover

h1,
h2,
h3,
h4,
h5,
h6
  font-family font-fancy

  a
    display block
    text-decoration none

h1,
h1 a,
h1 a:hover,
h1 a:target
  color color-branding-primary

h2,
h2 a,
h2 a:hover,
h2 a:visited
  color color-text

h3,
h3 a,
h3 a:hover,
h3 a:visited
  color #666
  font-size 1.5rem

.body
  h1,
  h2,
  h3
    &:target
      a,
      a:hover,
      a:visited,
      a:active
        color color-link-bright

    &:target,
    &:target:hover
      border-bottom-color color-link-bright

code,
pre
  font-family font-code
  font-size 1rem

h1,
h2,
h3,
h4,
h5,
h6
  code,
  pre
    font-size 1em

pre
  background-color rgba(0,0,0,.05)
  border-radius 3px
  line-height 1.45
  margin 0
  overflow auto
  padding 10px
  word-break normal
  word-wrap normal

  pre
    background none

.highlight pre
  padding padding-content

dl,
dt,
li,
p
  code
    background #f4f4f4
    border-radius 3px
    font-size .9rem
    margin 0 2px
    padding 3px 5px

ol,
ul
  list-style none

/*main*/.main
  .body
    flex 1
    padding padding-content
    max-width width-venti

    > *:first-child
      margin-top 0

    > *:last-child
      margin-bottom 0

    blockquote,
    dl,
    fieldset,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    ol,
    p,
    ul,
    .list-item,
    .highlight
      margin padding-content 0

    ol
      counter-reset item

    li
      display block

      &:before
        color color-text-lighter
        display inline-block

    ol,
    ul
      li:before
        display inline-block
        position absolute
        margin-left -4ch
        margin-right 1ch
        padding-right 0
        text-align right
        width 3ch

      li + li
        margin-top .25rem

      li > *
        margin padding-content-half 0

    ol > li:before
      content counters(item, '.') '. '
      counter-increment item

    ul > li:before
      color color-text-lighterer

    ul li:before
      content '●'

    ul ul > li:before
      content '○'

    dl,
    ol,
    ul
      margin-left padding-content-double

      dl,
      ol,
      ul
        margin-left padding-content

  h1
    font-weight 700
    line-height 1.3
    margin-bottom padding-content-double

    a
      &:hover
        color color-link-bright

  h2,
  h3,
  h4,
  h5,
  h6
    font-weight 400
    margin-bottom 1.5rem

  h2
    font-weight 600

  h2,
  h3,
  h4,
  h5,
  h6
    border-bottom 1px solid #eee

    &:hover
      border-bottom-color #ddd
    a
      padding-bottom .5rem

/* home page */
/*html*/[data-current-layout="home"]
  [data-section] ~ [data-section]
    margin-top padding-content

  /*section*/[data-section="getting-started"]
    padding padding-content

    h1
      font-size 2rem

    ~ [data-section]
      h1
        background color-branding-primary
        color color-white
        padding padding-content

    .start-grid
      display flex
      flex-wrap wrap
      height 100%

      /*li*/.column
        flex-basis 100%

      /*svg*/.icon
        margin-right padding-content
        max-height 70px
        max-width 70px
        opacity .8
        transform scale(1.0)
        transition .15s opacity ease-in-out, .15s transform ease-in-out

      /*a*/.getting-started-icon
        align-items center
        border 2px solid rgba(255,255,255,.5)
        color color-text-lighterer
        display flex
        flex-direction row
        padding padding-content-half padding-content
        height 100%

        &:hover
          border-color rgba(255,255,255,.75)
          color color-white

          /*svg*/.icon
            opacity 1
            transform scale(1.1)


/* TODO: Persist in `localStorage` whether to dismiss "Getting Started" section. */
/* TODO: Add `×` icon to close. */
[data-qs-dismiss="getting-started"]
  .getting-started
    display none

.video-wrapper
  height 250px
  iframe
    width 100%
    height 100%

.news-item
  list-style none
  .news-image
    height 100px
    overflow hidden
    width 100px
  time
    display block

.article-item
  .article-image
    height 150px
    overflow hidden

.headline
  font-size 1.5rem

/*html*/[data-current-layout="copy"]
  /*main*/.body
    h2,
    h3,
    h4,
    h5,
    h6
      margin-top 2.5rem

.nav-item-page-anchor-selected
  opacity 1
  text-decoration underline
  // transition all 0s

.nav
  background #dff
  font-family font-fancy
  overflow hidden
  padding 0.5rem
  width 100%
  z-index z-index-nav

.nav-item.nav-logo
  display none

.nav,
.main
  transition width .4s, height .4s, opacity .4s, transform .4s
  transition-timing-function cubic-bezier(.7,0,.3,1)

.nav-pages-secondary,
.nav-pages-secondary > *
  display none

/*a*/.nav-toggle
  color color-branding-primary
  display flex
  font-size 1.1rem
  font-weight 600
  margin-left -.5rem
  outline unset
  position relative
  text-decoration none
  span
    margin-left .75rem
    padding .5rem
    position relative
    // text-indent -9999px
    &:after
      border-left 5px solid transparent
      border-right 5px solid transparent
      border-top 10px solid color-branding-primary
      content ""
      display block
      position absolute
      transition .15s all ease-in-out
      top 14px
      right -1ch

a.nav-toggle:hover,
[data-nav-open="true"] a.nav-toggle,
[data-nav-open="true"] a.nav-toggle:visited
  color color-link-bright
  span:after
    border-top-color color-link-bright

[data-nav-open="true"]
  .nav-pages-secondary,
  .nav-pages-secondary li
    display block

  .nav-pages-secondary
    text-align center
    a
      display block
      opacity 1
      transition opacity .4s

/*h1*/.rocks-logo
  flex 1
  font-size 1.2rem
  transition .15s fill ease-in-out

/*svg*/.rocks-icon
  height auto
  margin-right 0.5rem

  path
    fill color-branding-primary
    transition .25s fill ease-in-out

.rocks-wordmark
  display none

/*strong*/.rocks-wordmark-webvr
  color color-branding-primary

/*span*/.rocks-wordmark-rocks
  color color-main-darker

/*a*/.rocks-link
  align-items center
  display flex
  height 100%
  text-decoration none
  width 100%
  &:hover
    /*svg*/.rocks-icon
      path
        fill color-link-bright
    /*strong*/.rocks-wordmark-webvr
      color color-link-bright
    /*span*/.rocks-wordmark-rocks
      color color-black

/*ul*/.nav-pages-primary
  display flex
  flex-direction row

/*li*/.nav-item-page
  margin 0
  justify-content center
  align-self center
  a
    padding .25rem .75rem
    font-size 1.1rem
    font-weight 600
    text-decoration none

    &,
    &:visited
      color color-branding-primary

    &:hover
      color color-link-bright

    &:active,
    &.active
      color color-link-active
      @extend .nav-item-page-anchor-selected
      text-decoration underline

/*div*/.content
  background color-white
  position relative
  width 100%

  .main
    position relative

[data-current-path^="/showcase"],
[data-current-path^="/assets"]
  .main
    max-width 1000px

  &[data-qs-headset*="vive"] .list-item:not([data-support-for-htc-vive="yes"]):not([data-requires-for-htc-vive="yes"]),
  &[data-qs-supports*="vive"] .list-item:not([data-support-for-htc-vive="yes"]),
  &[data-qs-requires*="vive"] .list-item:not([data-requires-for-htc-vive="yes"]),

  &[data-qs-headset*="rift"] .list-item:not([data-support-for-oculus-rift="yes"]):not([data-requires-for-oculus-rift="yes"]),
  &[data-qs-supports*="rift"] .list-item:not([data-support-for-oculus-rift="yes"]),
  &[data-qs-requires*="rift"] .list-item:not([data-requires-for-oculus-rift="yes"]),

  &[data-qs-headset*="gear"] .list-item:not([data-support-for-samsung-gear-vr="yes"]):not([data-requires-for-samsung-gear-vr="yes"]),
  &[data-qs-supports*="gear"] .list-item:not([data-support-for-samsung-gear-vr="yes"]),
  &[data-qs-requires*="gear"] .list-item:not([data-requires-for-samsung-gear-vr="yes"]),

  &[data-qs-headset*="osvr"] .list-item:not([data-support-for-osvr="yes"]):not([data-requires-for-osvr="yes"]),
  &[data-qs-supports*="osvr"] .list-item:not([data-support-for-osvr="yes"]),
  &[data-qs-requires*="osvr"] .list-item:not([data-requires-for-osvr="yes"]),

  &[data-qs-browser*="firefox"] .list-item:not([data-support-for-firefox-desktop="yes"]):not([data-requires-for-firefox-desktop="yes"]),
  &[data-qs-supports*="firefox"] .list-item:not([data-support-for-firefox-desktop="yes"]),
  &[data-qs-requires*="firefox"] .list-item:not([data-requires-for-firefox-desktop="yes"]),

  &[data-qs-browser*="chromium"] .list-item:not([data-support-for-chromium-desktop="yes"]):not([data-requires-for-chromium-desktop="yes"]),
  &[data-qs-supports*="chromium"] .list-item:not([data-support-for-chromium-desktop="yes"]),
  &[data-qs-requires*="chromium"] .list-item:not([data-requires-for-chromium-desktop="yes"]),

  &[data-qs-browser*="chrome"] .list-item:not([data-support-for-chromium-desktop="yes"]):not([data-requires-for-chromium-desktop="yes"]),
  &[data-qs-supports*="chrome"] .list-item:not([data-support-for-chromium-desktop="yes"]),
  &[data-qs-requires*="chrome"] .list-item:not([data-requires-for-chromium-desktop="yes"]),

  &[data-qs-browser*="chrome"] .list-item:not([data-support-for-chrome-desktop="yes"]):not([data-requires-for-chrome-desktop="yes"]),
  &[data-qs-supports*="chrome"] .list-item:not([data-support-for-chrome-desktop="yes"]),
  &[data-qs-requires*="chrome"] .list-item:not([data-requires-for-chrome-desktop="yes"]),

  &[data-qs-browser*="samsung"] .list-item:not([data-support-for-samsung-internet-browser-for-gear-vr="yes"]):not([data-requires-for-samsung-internet-browser-for-gear-vr="yes"]),
  &[data-qs-supports*="samsung"] .list-item:not([data-support-for-samsung-internet-browser-for-gear-vr="yes"]),
  &[data-qs-requires*="samsung"] .list-item:not([data-requires-for-samsung-internet-browser-for-gear-vr="yes"]),

  &[data-qs-browser*="carmel"] .list-item:not([data-support-for-oculus-carmel="yes"]):not([data-requires-for-oculus-carmel="yes"]),
  &[data-qs-supports*="carmel"] .list-item:not([data-support-for-oculus-carmel="yes"]),
  &[data-qs-requires*="carmel"] .list-item:not([data-requires-for-oculus-carmel="yes"]),

  &[data-qs-browser*="cardboard"] .list-item:not([data-support-for-google-cardboard="yes"]):not([data-requires-for-google-cardboard="yes"]),
  &[data-qs-supports*="cardboard"] .list-item:not([data-support-for-google-cardboard="yes"]),
  &[data-qs-requires*="cardboard"] .list-item:not([data-requires-for-google-cardboard="yes"]),

  &[data-qs-browser*="daydream"] .list-item:not([data-support-for-google-daydream="yes"]):not([data-requires-for-google-daydream="yes"]),
  &[data-qs-supports*="daydream"] .list-item:not([data-support-for-google-daydream="yes"]),
  &[data-qs-requires*="daydream"] .list-item:not([data-requires-for-google-daydream="yes"])
    display none

[data-current-path^="/news"] nav a[href^="/news"],
[data-current-path^="/getting-started"]:not([data-current-path^="/getting-started/troubleshooting"]) nav a[href^="/getting-started"]:not([href^="/getting-started/troubleshooting"]),
[data-current-path^="/browsers"]:not([data-current-path^="/browsers/changelog"]) nav a[href^="/browsers"]:not([href^="/browsers/changelog"]),
[data-current-path^="/browsers/changelog"] nav a[href^="/browsers/changelog"],
[data-current-path^="/headsets"] nav a[href^="/headsets"],
[data-current-path^="/getting-started/troubleshooting"] nav a[href^="/getting-started/troubleshooting"],
[data-current-path^="/showcase"] nav a[href^="/showcase"],
[data-current-path^="/assets"] nav a[href^="/assets"],
[data-current-path^="/article"] nav a[href^="/article"],
[data-current-path^="/community"] nav a[href^="/community"],
[data-current-path^="/spec"] nav a[href^="/spec"],
[data-current-path^="/contributing"] nav a[href^="/contributing"],
[data-current-path^="/rocks"] nav a[href^="/rocks"]
  @extend .nav-item-page-anchor-selected

/*ul*/.nav-social-list
  align-items center
  display flex
  flex 1
  font-size 0
  justify-content flex-end
  visibility hidden

/*li*/.nav-item-social
  margin 0
  + .nav-item-social
    margin-left 1.5rem

/*a*/.social-link
  svg
    height 20px
    transition .15s transform ease-in-out
    transform scale(1)
    width 20px
  path
    fill color-branding-primary
    transition .15s fill ease-in-out
  &:hover
    path
      fill color-link-bright
    svg
      transform scale(1.2)

.edit-page-link
  display block
  font-size .9rem
  line-height github-repo-size-with-units
  min-height github-repo-size-with-units
  opacity .4
  &:hover
    opacity .8

.github-edit-page-link
  background url(/img/github-octocat.svg) no-repeat
  background-size github-repo-size-with-units auto
  display block
  line-height github-repo-size-with-units
  min-height github-repo-size-with-units
  padding-left (github-repo-size + github-repo-padding)px
  z-index z-index-github-repo-link

.edit-options
  width 100%

.page-footer .edit-options
  border-top 1px dotted #eee
  margin-top padding-content
  padding-bottom padding-content
  padding-left padding-content
  padding-top padding-content-double

.nav-footer-list
  padding padding-content
  li
    margin 0
    display inline

/*li*/.nav-footer-item a
  font-size 1.2rem
  line-height 1.5
  font-weight 500
  padding-right padding-content
  text-align left
  text-decoration none
  white-space nowrap

  &:hover
    color color-black

.date-published
  color color-text-lighter
  font-family font-code
  font-size .8rem
  padding padding-content-half padding-content

.page__publish-date
  font-weight 600

img
  display block
  max-width 100%

hr
  background none
  border none
  border-top 1px dotted #eee
  height 0

.btn,
.btn:visited
  color color-white

.btn
  background color-hi-green
  border 0
  box-shadow 4px 4px 0 rgba(0,0,0,.15)
  color color-white
  cursor pointer
  display inline-block
  font-family inherit
  font-size 1rem
  font-weight 600
  height 3.6rem
  line-height 3.6rem
  max-width 500px
  opacity .8
  outline none
  padding 0 2rem
  position relative
  transition .15s all ease-in-out

  &,
  &:active
    text-decoration none

  &:hover,
  &:active
    color color-white
    opacity .9

  &:active
    box-shadow 4px 4px 0 rgba(0,0,0,.2)
    opacity 1
    transform translate(2px, 2px)

  &.btn-demo
    background color-hi-fuchsia

  &.btn-submit
    background #B10DC9

.btn + .btn
  margin-left 1rem

ul.asset-files-list
  background rgba(255,255,255,0.1)
  box-shadow 0 10px 20px inset red
  font-family font-code
  font-size 1rem
  margin-top 2rem

  &:empty
    display none

  li + li
    margin-top 0.75rem

  a
    border-bottom 1px dashed rgba(255,255,255,.4)

    &:hover
      border-bottom-color rgba(255,255,255,.8)

input[type="text"],
select,
textarea
  border 1px solid #ccc
  box-shadow 2px 2px #eee
  color inherit
  color color-text-light
  font-size 1rem
  font-family inherit
  outline auto 0 transparent
  padding .5rem
  transition .15s box-shadow ease-in-out, .15s color ease-in-out, .15s outline ease-in-out
  width 100%

  &:focus
    border-color color-hi-stroke-blue
    box-shadow 3px 3px #bbb
    color color-text

textarea
  min-height calc(50px + 1vh + 10vw)

/*form*/.contact-form
  margin 0
  padding padding-content-half 0

  .form-legend
    display none

/*label*/.form-label,
/*span*/.form-label-text,
/*span*/.form-label-field
  display block

/*label*/.form-label
  font-weight bold

/*span*/.form-label-text
  margin-bottom .25rem

.getting-started
  background color-branding-primary

  h1,
  h1 a
    color color-white

/*ul*/.start-grid
  a
    &:visited,
    &:active
      color color-white-soft
    &:hover
      color color-white

.footer
  margin padding-content 0

.uploadcare-widget
  display none

// TODO: Remove when https://github.com/zeke/jus/issues/36 is fixed.
#__bs_notify__
  display none !important

@media screen and (min-width: width-grande)
  .nav-social-list
    visibility visible

@media screen and (max-width: width-grande)
  .column-container
    flex-direction column

    [class*="column"] ~ [class*="column"]
      padding-top padding-content

@media screen and (min-width: width-venti)
  body
    display flex
    flex-direction column
    flex-wrap wrap
    justify-content space-between

  .main
    max-width content-width
    margin auto
    padding-top padding-content

  .video-wrapper
    height 400px

  .content-width-wrapper
    display flex
    margin auto
    max-width content-width
    width 100%

  .copy
    max-width width-venti

  /*ul*/.nav-item-page,
  /*a*/.nav-toggle
    min-width 7vw
    text-align center

  .nav,
  .nav > *
    opacity 1
    pointer-events auto
    visibility visible

  /*a*/.nav-toggle
    align-self center
    justify-content center
    span
      // text-indent 0
      &:after
        right -10px
    &:hover
      color color-link-bright
      span:after
        border-top-color color-link-bright

  /*span*/.rocks-wordmark
    display block
    font-weight 700

  input[type="text"],
  select,
  textarea
    max-width width-small

  /*html*/[data-current-layout="home"]

    /*section*/[data-section="getting-started"]

      .video-wrapper
        margin-right padding-content

      .start-grid
        border 1px solid rgba(255,255,255,.5)

        /*li*/.column
          flex-basis 50%

        /*svg*/.icon
          margin-right 0
          margin-bottom padding-content-half

        /*a*/.getting-started-icon
          border-width 1px
          font-weight 600
          flex-direction column
          justify-content center
          padding padding-content-half
          text-align center
          &:hover
            background-color rgba(0,0,0,.25)

  .content-width-wrapper
    padding-left 0
    padding-right 0
